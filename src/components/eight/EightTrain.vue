<template>
  <svg
    id="_圖層_2"
    data-name="圖層 2"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 461.62 870.38"
  >
    <path
      ref="path"
      d="M1.33,.7L145.27,273.81c14.08,26.67,26.78,54.84,33.78,84.27,9.31,39.09,8.19,81.48,10.21,121.54,2.32,45.96,4.64,91.91,6.96,137.87,0,29.53,3,59.38,4.49,88.88,.11,2.12,.49,4.26,.81,6.36,.82,5.4,1.9,10.76,3.22,16.06,1.78,7.15,3.99,14.2,6.77,21.02,3.04,7.46,6.77,14.69,11.49,21.24,4.72,6.56,10.47,12.44,17.35,16.73,5.92,3.69,12.74,6.63,19.83,6.59,2.35-.02,4.71-.12,7.06-.17,5.59-.12,11.17-.24,16.76-.36,7.44-.16,14.88-.32,22.32-.47,8.55-.18,17.1-.36,25.65-.55l26.74-.57c8.54-.18,17.07-.36,25.61-.54,7.41-.16,14.83-.32,22.24-.47,5.55-.12,11.09-.24,16.64-.35l8.81-.19,.83-.02"
      fill="none"
      stroke="#ef701b"
      stroke-miterlimit="10"
      stroke-width="3"
    />
    <g ref="train" id="_圖層_1-2" data-name="圖層 1">
      <g class="eight-train">
        <path
          d="M44.03,93.62L26.99,59.87c-.29-.58-.06-1.28,.52-1.58l1.65-.83,19.85,39.32-.95-.17c-1.75-.32-3.24-1.42-4.03-2.98Z"
          fill="#b0bec5"
        />
        <g>
          <path
            d="M58.71,95.14c.86-.43,1.9-.09,2.34,.77s.09,1.9-.77,2.34-1.9,.09-2.34-.77-.09-1.9,.77-2.34Z"
            fill="#37474f"
          />
          <path
            d="M56.61,90.99c.86-.43,1.9-.09,2.34,.77s.09,1.9-.77,2.34c-.86,.43-1.9,.09-2.34-.77s-.09-1.9,.77-2.34Z"
            fill="#37474f"
          />
          <path
            d="M41.33,60.72c.86-.43,1.9-.09,2.34,.77,.43,.86,.09,1.9-.77,2.34s-1.9,.09-2.34-.77c-.43-.86-.09-1.9,.77-2.34Z"
            fill="#37474f"
          />
          <path
            d="M39.23,56.57c.86-.43,1.9-.09,2.34,.77,.43,.86,.09,1.9-.77,2.34s-1.9,.09-2.34-.77-.09-1.9,.77-2.34Z"
            fill="#37474f"
          />
          <path
            d="M41.23,85.99c6.15,11.87,12.9,17.31,17.21,19.73,1.47,.83,3.11-.75,2.35-2.25l-11-21.8-14.47-28.67-8.55,4.32,14.47,28.67Z"
            fill="#cfd8dc"
          />
          <path
            d="M58.27,105.63c.06,.03,.11,.07,.17,.1,1.47,.83,3.11-.75,2.35-2.25l-11-21.8-14.47-28.67-2.88,1.45,25.83,51.17Z"
            fill="#26a69a"
          />
          <path
            d="M38.24,54.6l23.31,46.17c.47,.93,.1,2.07-.84,2.55h0l-24.52-48.57,.99-.5c.39-.2,.86-.04,1.06,.35Z"
            fill="#546e7a"
          />
          <path
            d="M52.13,96.92l-2.43,1.23,.41,.8c1.99,2.15,3.88,3.77,5.57,5l-3.55-7.03Z"
            fill="#37474f"
          />
          <g>
            <rect
              x="41.89"
              y="82.52"
              width="2.97"
              height="1.93"
              transform="translate(-11.6 159.83) rotate(-116.78)"
              fill="#37474f"
            />
            <rect
              x="47.03"
              y="92.7"
              width="2.97"
              height="1.93"
              transform="translate(-13.23 179.18) rotate(-116.78)"
              fill="#37474f"
            />
            <rect
              x="39.99"
              y="78.75"
              width="2.97"
              height="1.93"
              transform="translate(-11 152.67) rotate(-116.78)"
              fill="#37474f"
            />
            <rect
              x="38.09"
              y="74.99"
              width="2.97"
              height="1.93"
              transform="translate(-10.39 145.51) rotate(-116.78)"
              fill="#37474f"
            />
            <rect
              x="36.19"
              y="71.22"
              width="2.97"
              height="1.93"
              transform="translate(-9.79 138.35) rotate(-116.78)"
              fill="#37474f"
            />
            <rect
              x="34.29"
              y="67.45"
              width="2.97"
              height="1.93"
              transform="translate(-9.18 131.19) rotate(-116.78)"
              fill="#37474f"
            />
            <rect
              x="32.39"
              y="63.69"
              width="2.97"
              height="1.93"
              transform="translate(-8.58 124.03) rotate(-116.78)"
              fill="#37474f"
            />
          </g>
          <g>
            <rect
              x="45.68"
              y="83.42"
              width="3.66"
              height="7.49"
              transform="translate(-8.89 168.86) rotate(-116.78)"
              fill="#b0bec5"
            />
            <rect
              x="44.54"
              y="86.07"
              width="5.45"
              height="2.44"
              transform="translate(-34.26 30.67) rotate(-26.78)"
              fill="#37474f"
            />
            <g>
              <rect
                x="31.54"
                y="55.4"
                width="3.66"
                height="7.49"
                transform="translate(-4.4 115.58) rotate(-116.78)"
                fill="#b0bec5"
              />
              <rect
                x="31.9"
                y="56.54"
                width="2.44"
                height="5.45"
                transform="translate(-4.86 115.55) rotate(-116.78)"
                fill="#37474f"
              />
            </g>
          </g>
        </g>
        <g>
          <g>
            <g>
              <g>
                <path
                  d="M32.6,43.43c.86-.43,1.9-.09,2.34,.77s.09,1.9-.77,2.34c-.86,.43-1.9,.09-2.34-.77s-.09-1.9,.77-2.34Z"
                  fill="#37474f"
                />
                <path
                  d="M30.51,39.28c.86-.43,1.9-.09,2.34,.77s.09,1.9-.77,2.34-1.9,.09-2.34-.77-.09-1.9,.77-2.34Z"
                  fill="#37474f"
                />
                <path
                  d="M14.7,7.96c.86-.43,1.9-.09,2.34,.77s.09,1.9-.77,2.34-1.9,.09-2.34-.77-.09-1.9,.77-2.34Z"
                  fill="#37474f"
                />
                <path
                  d="M12.6,3.81c.86-.43,1.9-.09,2.34,.77s.09,1.9-.77,2.34c-.86,.43-1.9,.09-2.34-.77s-.09-1.9,.77-2.34Z"
                  fill="#37474f"
                />
              </g>
              <polygon
                points="11.77 27.64 14.47 32.99 26.25 56.31 34.8 51.99 34.03 50.47 23.03 28.67 20.33 23.33 9.32 1.52 8.55 0 0 4.32 11.77 27.64"
                fill="#cfd8dc"
              />
              <path
                d="M11.48,1.59l23.31,46.17c.47,.93,.1,2.07-.84,2.55h0L9.44,1.75l.99-.5c.39-.2,.86-.04,1.06,.35Z"
                fill="#546e7a"
              />
              <g>
                <rect
                  x="15.29"
                  y="29.82"
                  width="2.97"
                  height="1.93"
                  transform="translate(-3.15 59.64) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="17.16"
                  y="33.52"
                  width="2.97"
                  height="1.93"
                  transform="translate(-3.74 66.67) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="19.03"
                  y="37.22"
                  width="2.97"
                  height="1.93"
                  transform="translate(-4.33 73.7) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="20.89"
                  y="40.92"
                  width="2.97"
                  height="1.93"
                  transform="translate(-4.93 80.74) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="22.76"
                  y="44.62"
                  width="2.97"
                  height="1.93"
                  transform="translate(-5.52 87.77) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="13.43"
                  y="26.13"
                  width="2.97"
                  height="1.93"
                  transform="translate(-2.55 52.61) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="11.56"
                  y="22.43"
                  width="2.97"
                  height="1.93"
                  transform="translate(-1.96 45.58) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="9.69"
                  y="18.73"
                  width="2.97"
                  height="1.93"
                  transform="translate(-1.37 38.55) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="7.83"
                  y="15.03"
                  width="2.97"
                  height="1.93"
                  transform="translate(-.77 31.52) rotate(-116.78)"
                  fill="#37474f"
                />
                <rect
                  x="5.96"
                  y="11.34"
                  width="2.97"
                  height="1.93"
                  transform="translate(-.18 24.49) rotate(-116.78)"
                  fill="#37474f"
                />
              </g>
              <rect
                x="-8.88"
                y="25.11"
                width="58.24"
                height="3.22"
                transform="translate(5.5 56.83) rotate(-116.78)"
                fill="#26a69a"
              />
              <g>
                <rect
                  x="26.93"
                  y="46.27"
                  width="3.66"
                  height="7.49"
                  transform="translate(-2.93 98.21) rotate(-116.78)"
                  fill="#b0bec5"
                />
                <rect
                  x="25.79"
                  y="48.91"
                  width="5.45"
                  height="2.44"
                  transform="translate(-19.53 18.23) rotate(-26.78)"
                  fill="#37474f"
                />
                <g>
                  <rect
                    x="4.73"
                    y="2.3"
                    width="3.66"
                    height="7.49"
                    transform="translate(4.12 14.62) rotate(-116.78)"
                    fill="#b0bec5"
                  />
                  <rect
                    x="5.1"
                    y="3.44"
                    width="2.44"
                    height="5.45"
                    transform="translate(3.66 14.58) rotate(-116.78)"
                    fill="#37474f"
                  />
                </g>
              </g>
            </g>
            <path
              d="M.11,6.63L24.46,54.85c.23,.46,.8,.65,1.26,.41h0L.53,5.37H.53c-.46,.23-.65,.8-.41,1.26Z"
              fill="#b0bec5"
            />
          </g>
          <rect
            x="30.09"
            y="51.4"
            width="1.13"
            height="6.64"
            transform="translate(65.69 2.7) rotate(63.22)"
            fill="#37474f"
          />
        </g>
      </g>
    </g>
  </svg>
</template>

<script setup lang="ts">
import gsap from "gsap";
import { MotionPathPlugin } from "gsap/all";

//火車
const train = ref();
//火車路徑
const path = ref();

onMounted(() => {
  gsap.registerPlugin(MotionPathPlugin);
  const trainTl = gsap.timeline({
    repeat: -1,
  });

  trainTl
    .from(train.value, {
      motionPath: {
        path: path.value,
        align: path.value,
        alignOrigin: [0.5, 0.5],
        autoRotate: true,
        start: 0.9,
        end: 0,
      },
      transformOrigin: "50% 50%",
      duration: 5,
      ease: "linear",
    })
    .to(train.value, {
      motionPath: {
        path: path.value,
        align: path.value,
        alignOrigin: [0.5, 0.5],
        start: 0.9,
        end: 1,
      },
      transformOrigin: "50% 50%",
      duration: 0.5,
      opacity: 0,
      ease: "linear",
    });
});
</script>

<style scoped></style>
